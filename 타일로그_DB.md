# 타일로그

## DB - 테이블 연관관계

### USERS_pk(id)

* 1명의 회원은 N개의 post를 쓸 수 있다.
* 1명의 회원은 N개의 라벨(색)을 가질 수 있다
* 1명의 회원은 N개의 태그를 가질 수 있다.

### POSTS_pk()

* 1개의 포스트는 N개의 태그를 가질 수 있다.
* 1개의 포스트는 1개의 라벨(색)을 가진다

### LABEL

* 1개의 라벨(색)은 N개의 포스트에 붙는다.

### TAGS

* 1개의 태그는 N개의 포스트에 달릴 수 있다.

  

#### 



#### 기타

* 라벨은 태그와 무관하다.

* 어떤 유저의 모든 라벨 혹은 태그들이 알고싶다면?  

  * 포스트를 거치는 건 불필요한거 아닌가? 
  * 애초에 post에서 시작하면 되는거 아닌가? 근데 이것도 이상.
  * 그냥 라벨, 태그에 user_id 있으면 될 듯.

* 이제 더 분해할 건 없는지(정규화) 생각해보자

  * 키부터 찾자 -다 AI 가 PK임. 땅땅
  * 그래서 뭐 정규화할 껀덕지가 없음. 
  * 라벨과 컬러정도 생각해볼까?

  



## JPA - 객체 연관관계

* Post(FK) - User
  * 다대일 단방향
* Label or Tags(FK) - User
  * 대대일 단방향
* Posts(FK) - Label
  * 일대일 양방향?
* Post - Tag
  * 다대다이긴 한데, 
  * 6. 다양한 연관관계 매핑 - 34P 참고